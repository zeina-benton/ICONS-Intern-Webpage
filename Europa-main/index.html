<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="css/leaflet.css">
        <link rel="stylesheet" href="css/L.Control.Layers.Tree.css">
        <link rel="stylesheet" href="css/qgis2web.css">
        <link rel="stylesheet" href="css/fontawesome-all.min.css">
        <link rel="stylesheet" href="css/leaflet.photon.css">

        <style>
            html, body {
                margin: 0;
                padding: 0;
                width: 100vw;
                height: 100vh;
                overflow: hidden;
            }

            #map-container {
                position: fixed; /* Ensures it covers the screen */
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
            }

            #map {
                position: absolute;
                top: 0;
                right: 0;
                bottom: 0;
                left: 0;
                width: 100%;
                height: 100%;
            }

            .click-through-rectangle {
                pointer-events: visibleStroke !important;
            }

            .label-class {
                pointer-events: none !important;
                background: none;
                border: none;
            }

           .map-label-div {
            font-style: italic;
            font-weight: normal;
            font-size: 1.1em;
            color: black;
            user-select: none;
            pointer-events: none; /* so map interactions arenâ€™t blocked */
            text-shadow: 1px 1px 2px white;
            white-space: nowrap;
            }



            .feature-label {
                color: lightblue;
                font-weight: bold;
                pointer-events: auto;
                cursor: pointer;
                text-shadow: 1px 1px 2px black;
                white-space: nowrap;
            }
        </style>

        <title></title>
    </head>
    <body>
        <div id="map-container" style="position: relative; width: 100vw; height: 100vh;">
            <div id="map"></div>
        <div class="map-label left-label"><em>Leading Hemisphere</em></div>
        <div class="map-label right-label"><em>Trailing Hemisphere</em></div>

            
        </div>
    </body>

        <script src="js/qgis2web_expressions.js"></script>
        <script src="js/leaflet.js"></script>
        <script src="js/L.Control.Layers.Tree.min.js"></script>
        <script src="js/leaflet.rotatedMarker.js"></script>
        <script src="js/leaflet.pattern.js"></script>
        <script src="js/leaflet-hash.js"></script>
        <script src="js/Autolinker.min.js"></script>
        <script src="js/rbush.min.js"></script>
        <script src="js/labelgun.min.js"></script>
        <script src="js/labels.js"></script>
        <script src="js/leaflet.photon.js"></script>
        <script src="data/europa_global_geologyLocationFeatures_FINAL_0.js"></script>
        <script src="data/europa_global_geologyLinearFeatures_FINAL_1.js"></script>
        <script src="data/europa_global_geologyGeoUnits_SP_Anno_2.js"></script>
        <script src="data/europa_global_geologyGeoUnits_NP_Anno_3.js"></script>
        <script src="data/europa_global_geologyGeoUnits_FINAL_v3_4.js"></script>
        <script src="data/europa_global_geologyGeoUnits_15kAnno_5.js"></script>
        <script src="data/europa_global_geologyGeoContacts_FINAL_6.js"></script>
        <script src="data/europa_global_geologyEuropa_Annotation_7.js"></script>
       
        <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>

        <script>

        var map = L.map('map', {
            zoomControl:false, maxZoom:28, minZoom:1
        }).fitBounds([[-93.85306120859076,-160.15168426430535],[107.23775424021579,176.04159614060785]]);
        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
        var autolinker = new Autolinker({truncate: {length: 30, location: 'smart'}});

        const leadingHemisphereCoords = [107.24, -160.15];  // top-left corner lat/lon
        const trailingHemisphereCoords = [107.24, 176.04];  // top-right corner lat/lon

        // Leading Hemisphere label marker
        L.marker(leadingHemisphereCoords, {
            icon: L.divIcon({
                className: 'map-label-div',
                html: '<em>Leading Hemisphere</em>',
                iconSize: [150, 20],
                iconAnchor: [0, 20]  // anchor bottom-left so text sits just inside the map edge
            }),
            interactive: false  // so clicks pass through
        }).addTo(map);

        // Trailing Hemisphere label marker
        L.marker(trailingHemisphereCoords, {
            icon: L.divIcon({
                className: 'map-label-div',
                html: '<em>Trailing Hemisphere</em>',
                iconSize: [150, 20],
                iconAnchor: [150, 20]  // anchor bottom-right so text sits just inside map edge
            }),
            interactive: false
        }).addTo(map);

        
        // remove popup's row if "visible-with-data"
        function removeEmptyRowsFromPopupContent(content, feature) {
         var tempDiv = document.createElement('div');
         tempDiv.innerHTML = content;
         var rows = tempDiv.querySelectorAll('tr');
         for (var i = 0; i < rows.length; i++) {
             var td = rows[i].querySelector('td.visible-with-data');
             var key = td ? td.id : '';
             if (td && td.classList.contains('visible-with-data') && feature.properties[key] == null) {
                 rows[i].parentNode.removeChild(rows[i]);
             }
         }
         return tempDiv.innerHTML;
        }
      
        function loadCSVAndDraw() {
            Papa.parse('55E33_1_r_SHOEparam copy.csv', {
                download: true,
                header: false,
                complete: function(results) {
                    const data = results.data;
                    let parsed = {};
                    for (let row of data) {
                        parsed[row[0]] = row.slice(1);
                    }

                    const latArray = parsed['lat'];
                    const lonArray = parsed['lon'];

                    if (!latArray || !lonArray) {
                        console.error("Missing lat/lon rows in CSV");
                        return;
                    }

                    console.log("latArray:", latArray);
                    console.log("lonArray:", lonArray);

                    for (let i = 5; i < latArray.length; i++) {
                        let lat = parseFloat(latArray[i]);
                        let lon = parseFloat(lonArray[i]);

                        if (isNaN(lat) || isNaN(lon)) {
                            console.warn(`Skipping invalid at i=${i}: lat=${lat}, lon=${lon}`);
                            continue;
                        }
                        const roiNumber = i - 3;
                        const bounds = [
                            [lat - 5, lon - 5],
                            [lat + 5, lon + 5]
                        ];

                        // Prepare popup content from other rows
                        let popupContent = `<strong>ROI ${roiNumber}</strong><br><table>`;
                        const keysToShow = ['w', 'b', 'c', 'B_0', 'h'];

                        keysToShow.forEach(key => {
                            const value = parsed[key]?.[i] || 'N/A';
                            popupContent += `<tr><td><b>${key}</b></td><td>${value}</td></tr>`;
                        });
                        popupContent += '</table>';

                        popupContent += `
                            <br>
                            <button class="forward-model-btn" data-roi-number="${roiNumber}">
                                Forward Model of Scheduled MISE Observation
                            </button>
                            <div class="forward-model-image" id="forward-model-image-${roiNumber}" style="margin-top: 10px;"></div>
                        `;

                        L.rectangle(bounds, {
                            color: 'black',
                            weight: 2,
                            fillOpacity: 0,
                            interactive: true,
                            bubblingMouseEvents: false,
                            className: 'click-through-rectangle' // ðŸ‘ˆ Add this line
                        }).addTo(map)
                        .bindPopup(popupContent)
                        .bindTooltip(`ROI ${i - 3}`, {
                            permanent: true,
                            direction: 'center',
                            className: 'label-class'
                        });
                    }
                },
                error: function(err) {
                    console.error("CSV parsing error:", err);
                }
            });

            const roiToImageMap = {
                18: [ '3D-plot-of-55E33_1-trisurf_reflectanceSHOE_simple.png',
                    '3D-plot-of-55E33_2-trisurf_reflectanceSHOE_simple.png',
                    '3D-plot-of-55E33_3-trisurf_reflectanceSHOE_simple.png',
                    '3D-plot-of-55E33_4-trisurf_reflectanceSHOE_simple.png',
                    '3D-plot-of-55E33_5-trisurf_reflectanceSHOE_simple.png',
                ],
                17: ['3D-plot-of-55E33_19-trisurf_reflectanceSHOE_simple.png']
                
            // all ROI-to-filename mappings
            };

            map.on('popupopen', function(e) {
                const button = e.popup._contentNode.querySelector('.forward-model-btn');
                if (button) {
                    button.addEventListener('click', () => {
                        const roiNumber = button.dataset.roiNumber;
                        const filenames = roiToImageMap[roiNumber];
                        if (!filenames || filenames.length === 0) {
                            const imageContainer = e.popup._contentNode.querySelector(`#forward-model-image-${roiNumber}`);
                            if (imageContainer) {
                                imageContainer.innerHTML = '<em>No image available for this ROI.</em>';
                            }
                            return;
                        }

                        if (filenames.length > 1) {
                            // Open a new tab with the forward models page
                            const roiNumber = Number(button.dataset.roiNumber);
                            const url = `forward-models.html?roi=${roiNumber}`;
                            window.open(url, '_blank');  // open in new tab/window
                        } else {
                            // Show the single image inside the popup as before
                            const imageContainer = e.popup._contentNode.querySelector(`#forward-model-image-${roiNumber}`);
                            if (!imageContainer) return;
                            if (imageContainer.querySelector('img')) return; // prevent duplicates
                            
                            const img = document.createElement('img');
                            img.src = `images/${filenames[0]}`;
                            img.alt = `Forward model for ROI ${roiNumber}`;
                            img.style.maxWidth = '100%';
                            img.style.border = '1px solid #ccc';
                            img.style.marginTop = '10px';
                            img.style.display = 'block';

                            imageContainer.appendChild(img);
                        }
                    });
                }
            });


        }
        // https://planetarynames.wr.usgs.gov/SearchResults?Target=22_Europa
        function normalizeLon(lon) {
            if (lon > 180) return lon - 360;
            if (lon < -180) return lon + 360;
            return lon;
        }
        function loadEuropaFeatures() {
            Papa.parse('Europa-features.csv', {
                download: true,
                header: true,
                complete: function(results) {
                    const data = results.data;
                    const markers = [];

                    data.forEach(feature => {
                        let lat = parseFloat(feature['Latitude']);
                        let lon = parseFloat(feature['Longitude']);
                        lon = -lon; // Invert longitude for correct map display
                        lon = normalizeLon(lon);

                        if (isNaN(lat) || isNaN(lon)) return;

                        const popupContent = `
                            <strong>Feature Name:</strong> ${feature['Feature Name']}<br>
                            <strong>Target:</strong> ${feature['Target']}<br>
                            <strong>Diameter:</strong> ${feature['Diameter']}<br>
                            <strong>Feature Type:</strong> ${feature['Feature Type']}<br>
                            <strong>Approval Date:</strong> ${feature['Approval Date']}<br>
                            <strong>Origin:</strong> ${feature['Origin']}
                        `;
                        const labelIcon = L.divIcon({
                                className: 'feature-label',
                                html: `<b>${feature['Feature Name']}</b>`,
                                iconSize: [150, 20],
                                iconAnchor: [0, 10]
                            });

                            const marker = L.marker([lat, lon], {icon: labelIcon})
                                .bindPopup(popupContent)
                            marker.on('click', function() {
                                this.openPopup();
                            });

                            marker.addTo(map);
                            markers.push(marker);  
                        });

                        if (markers.length > 0) {
                            const group = L.featureGroup(markers);
                            map.fitBounds(group.getBounds());
                        }
                },
                error: function(err) {
                    console.error('Error loading Europa-features.csv:', err);
                }
            });
        }


        loadCSVAndDraw();
        loadEuropaFeatures();

            
            // add class to format popup if it contains media
            function addClassToPopupIfMedia(content, popup) {
                var tempDiv = document.createElement('div');
                tempDiv.innerHTML = content;
                if (tempDiv.querySelector('td img')) {
                    popup._contentNode.classList.add('media');
                        // Delay to force the redraw
                        setTimeout(function() {
                            popup.update();
                        }, 10);
                } else {
                    popup._contentNode.classList.remove('media');
                }
            }
            var zoomControl = L.control.zoom({
                position: 'topleft'
            }).addTo(map);
            var bounds_group = new L.featureGroup([]);
            function setBounds() {
            }

       function pop_europa_global_geologyLocationFeatures_FINAL_0(feature, layer) {
            var popupContent = '<table>\
                <tr>\
                    <td>OBJECTID:</td>\
                    <td>' + (feature.properties['OBJECTID'] !== null ? autolinker.link(String(feature.properties['OBJECTID']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                </tr>\
                <tr>\
                    <td>Type:</td>\
                    <td>' + (feature.properties['Type'] !== null ? autolinker.link(String(feature.properties['Type']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                </tr>\
            </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function(e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }


        function style_europa_global_geologyLocationFeatures_FINAL_0_0() {
            return {
                pane: 'pane_europa_global_geologyLocationFeatures_FINAL_0',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(196,60,57,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_europa_global_geologyLocationFeatures_FINAL_0');
        map.getPane('pane_europa_global_geologyLocationFeatures_FINAL_0').style.zIndex = 400;
        map.getPane('pane_europa_global_geologyLocationFeatures_FINAL_0').style['mix-blend-mode'] = 'normal';
        var layer_europa_global_geologyLocationFeatures_FINAL_0 = new L.geoJson(json_europa_global_geologyLocationFeatures_FINAL_0, {
            attribution: '',
            interactive: true,
            dataVar: 'json_europa_global_geologyLocationFeatures_FINAL_0',
            layerName: 'layer_europa_global_geologyLocationFeatures_FINAL_0',
            pane: 'pane_europa_global_geologyLocationFeatures_FINAL_0',
            onEachFeature: pop_europa_global_geologyLocationFeatures_FINAL_0,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.circleMarker(latlng, style_europa_global_geologyLocationFeatures_FINAL_0_0(feature));
            },
        });
        bounds_group.addLayer(layer_europa_global_geologyLocationFeatures_FINAL_0);
        map.addLayer(layer_europa_global_geologyLocationFeatures_FINAL_0);
        function pop_europa_global_geologyLinearFeatures_FINAL_1(feature, layer) {
            var popupContent = '<table>\
                <tr>\
                    <td>OBJECTID:</td>\
                    <td>' + (feature.properties['OBJECTID'] !== null ? autolinker.link(String(feature.properties['OBJECTID']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                </tr>\
                <tr>\
                    <td>Type:</td>\
                    <td>' + (feature.properties['Type'] !== null ? autolinker.link(String(feature.properties['Type']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                </tr>\
                <tr>\
                    <td>PART_COUNT:</td>\
                    <td>' + (feature.properties['PART_COUNT'] !== null ? autolinker.link(String(feature.properties['PART_COUNT']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                </tr>\
                <tr>\
                    <td>Interpretation:</td>\
                    <td>' + (feature.properties['Interpretation'] !== null ? autolinker.link(String(feature.properties['Interpretation']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                </tr>\
                <tr>\
                    <td>Shape_Length:</td>\
                    <td>' + (feature.properties['Shape_Length'] !== null ? autolinker.link(String(feature.properties['Shape_Length']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                </tr>\
            </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function(e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }


        function style_europa_global_geologyLinearFeatures_FINAL_1_0() {
            return {
                pane: 'pane_europa_global_geologyLinearFeatures_FINAL_1',
                opacity: 1,
                color: 'rgba(225,89,137,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 1.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_europa_global_geologyLinearFeatures_FINAL_1');
        map.getPane('pane_europa_global_geologyLinearFeatures_FINAL_1').style.zIndex = 401;
        map.getPane('pane_europa_global_geologyLinearFeatures_FINAL_1').style['mix-blend-mode'] = 'normal';
        var layer_europa_global_geologyLinearFeatures_FINAL_1 = new L.geoJson(json_europa_global_geologyLinearFeatures_FINAL_1, {
            attribution: '',
            interactive: true,
            dataVar: 'json_europa_global_geologyLinearFeatures_FINAL_1',
            layerName: 'layer_europa_global_geologyLinearFeatures_FINAL_1',
            pane: 'pane_europa_global_geologyLinearFeatures_FINAL_1',
            onEachFeature: pop_europa_global_geologyLinearFeatures_FINAL_1,
            style: style_europa_global_geologyLinearFeatures_FINAL_1_0,
        });
        bounds_group.addLayer(layer_europa_global_geologyLinearFeatures_FINAL_1);
        map.addLayer(layer_europa_global_geologyLinearFeatures_FINAL_1);
   
        function pop_europa_global_geologyGeoUnits_SP_Anno_2(feature, layer) {
            var popupContent = '<table>\
                <tr><td><strong>OBJECTID:</strong></td><td>' + formatProp(feature.properties['OBJECTID']) + '</td></tr>\
                <tr><td><strong>Feature ID:</strong></td><td>' + formatProp(feature.properties['FeatureID']) + '</td></tr>\
                <tr><td><strong>Z Order:</strong></td><td>' + formatProp(feature.properties['ZOrder']) + '</td></tr>\
                <tr><td><strong>Annotation Class ID:</strong></td><td>' + formatProp(feature.properties['AnnotationClassID']) + '</td></tr>\
                <tr><td><strong>Element:</strong></td><td>' + formatProp(feature.properties['Element']) + '</td></tr>\
                <tr><td><strong>Symbol ID:</strong></td><td>' + formatProp(feature.properties['SymbolID']) + '</td></tr>\
                <tr><td><strong>Status:</strong></td><td>' + formatProp(feature.properties['Status']) + '</td></tr>\
                <tr><td><strong>Text String:</strong></td><td>' + formatProp(feature.properties['TextString']) + '</td></tr>\
                <tr><td><strong>Font Name:</strong></td><td>' + formatProp(feature.properties['FontName']) + '</td></tr>\
                <tr><td><strong>Font Size:</strong></td><td>' + formatProp(feature.properties['FontSize']) + '</td></tr>\
                <tr><td><strong>Underline:</strong></td><td>' + formatProp(feature.properties['Underline']) + '</td></tr>\
                <tr><td><strong>Vertical Alignment:</strong></td><td>' + formatProp(feature.properties['VerticalAlignment']) + '</td></tr>\
                <tr><td><strong>Horizontal Alignment:</strong></td><td>' + formatProp(feature.properties['HorizontalAlignment']) + '</td></tr>\
                <tr><td><strong>X Offset:</strong></td><td>' + formatProp(feature.properties['XOffset']) + '</td></tr>\
                <tr><td><strong>Y Offset:</strong></td><td>' + formatProp(feature.properties['YOffset']) + '</td></tr>\
                <tr><td><strong>Angle:</strong></td><td>' + formatProp(feature.properties['Angle']) + '</td></tr>\
                <tr><td><strong>Font Leading:</strong></td><td>' + formatProp(feature.properties['FontLeading']) + '</td></tr>\
                <tr><td><strong>Word Spacing:</strong></td><td>' + formatProp(feature.properties['WordSpacing']) + '</td></tr>\
                <tr><td><strong>Character Width:</strong></td><td>' + formatProp(feature.properties['CharacterWidth']) + '</td></tr>\
                <tr><td><strong>Character Spacing:</strong></td><td>' + formatProp(feature.properties['CharacterSpacing']) + '</td></tr>\
                <tr><td><strong>Flip Angle:</strong></td><td>' + formatProp(feature.properties['FlipAngle']) + '</td></tr>\
                <tr><td><strong>Override:</strong></td><td>' + formatProp(feature.properties['Override']) + '</td></tr>\
                <tr><td><strong>Font Style:</strong></td><td>' + formatProp(feature.properties['FontStyle']) + '</td></tr>\
                <tr><td><strong>SHAPE Length:</strong></td><td>' + formatProp(feature.properties['SHAPE_Length']) + '</td></tr>\
                <tr><td><strong>SHAPE Area:</strong></td><td>' + formatProp(feature.properties['SHAPE_Area']) + '</td></tr>\
            </table>';

            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function(e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_europa_global_geologyGeoUnits_SP_Anno_2_0() {
            return {
                pane: 'pane_europa_global_geologyGeoUnits_SP_Anno_2',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(231,113,72,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_europa_global_geologyGeoUnits_SP_Anno_2');
        map.getPane('pane_europa_global_geologyGeoUnits_SP_Anno_2').style.zIndex = 402;
        map.getPane('pane_europa_global_geologyGeoUnits_SP_Anno_2').style['mix-blend-mode'] = 'normal';
        var layer_europa_global_geologyGeoUnits_SP_Anno_2 = new L.geoJson(json_europa_global_geologyGeoUnits_SP_Anno_2, {
            attribution: '',
            interactive: true,
            dataVar: 'json_europa_global_geologyGeoUnits_SP_Anno_2',
            layerName: 'layer_europa_global_geologyGeoUnits_SP_Anno_2',
            pane: 'pane_europa_global_geologyGeoUnits_SP_Anno_2',
            onEachFeature: pop_europa_global_geologyGeoUnits_SP_Anno_2,
            style: style_europa_global_geologyGeoUnits_SP_Anno_2_0,
        });
        bounds_group.addLayer(layer_europa_global_geologyGeoUnits_SP_Anno_2);
        map.addLayer(layer_europa_global_geologyGeoUnits_SP_Anno_2);
        function pop_europa_global_geologyGeoUnits_NP_Anno_3(feature, layer) {
            var popupContent = '<table>' +
                (feature.properties['OBJECTID'] !== null ? '<tr><td><strong>Object ID:</strong></td><td>' + autolinker.link(String(feature.properties['OBJECTID'])) + '</td></tr>' : '') +
                (feature.properties['FeatureID'] !== null ? '<tr><td><strong>Feature ID:</strong></td><td>' + autolinker.link(String(feature.properties['FeatureID'])) + '</td></tr>' : '') +
                (feature.properties['ZOrder'] !== null ? '<tr><td><strong>Z Order:</strong></td><td>' + autolinker.link(String(feature.properties['ZOrder'])) + '</td></tr>' : '') +
                (feature.properties['AnnotationClassID'] !== null ? '<tr><td><strong>Annotation Class ID:</strong></td><td>' + autolinker.link(String(feature.properties['AnnotationClassID'])) + '</td></tr>' : '') +
                (feature.properties['Element'] !== null ? '<tr><td><strong>Element:</strong></td><td>' + autolinker.link(String(feature.properties['Element'])) + '</td></tr>' : '') +
                (feature.properties['SymbolID'] !== null ? '<tr><td><strong>Symbol ID:</strong></td><td>' + autolinker.link(String(feature.properties['SymbolID'])) + '</td></tr>' : '') +
                (feature.properties['Status'] !== null ? '<tr><td><strong>Status:</strong></td><td>' + autolinker.link(String(feature.properties['Status'])) + '</td></tr>' : '') +
                (feature.properties['TextString'] !== null ? '<tr><td><strong>Text:</strong></td><td>' + autolinker.link(String(feature.properties['TextString'])) + '</td></tr>' : '') +
                (feature.properties['FontName'] !== null ? '<tr><td><strong>Font Name:</strong></td><td>' + autolinker.link(String(feature.properties['FontName'])) + '</td></tr>' : '') +
                (feature.properties['FontSize'] !== null ? '<tr><td><strong>Font Size:</strong></td><td>' + autolinker.link(String(feature.properties['FontSize'])) + '</td></tr>' : '') +
                (feature.properties['Underline'] !== null ? '<tr><td><strong>Underline:</strong></td><td>' + autolinker.link(String(feature.properties['Underline'])) + '</td></tr>' : '') +
                (feature.properties['VerticalAlignment'] !== null ? '<tr><td><strong>Vertical Alignment:</strong></td><td>' + autolinker.link(String(feature.properties['VerticalAlignment'])) + '</td></tr>' : '') +
                (feature.properties['HorizontalAlignment'] !== null ? '<tr><td><strong>Horizontal Alignment:</strong></td><td>' + autolinker.link(String(feature.properties['HorizontalAlignment'])) + '</td></tr>' : '') +
                (feature.properties['XOffset'] !== null ? '<tr><td><strong>X Offset:</strong></td><td>' + autolinker.link(String(feature.properties['XOffset'])) + '</td></tr>' : '') +
                (feature.properties['YOffset'] !== null ? '<tr><td><strong>Y Offset:</strong></td><td>' + autolinker.link(String(feature.properties['YOffset'])) + '</td></tr>' : '') +
                (feature.properties['Angle'] !== null ? '<tr><td><strong>Angle:</strong></td><td>' + autolinker.link(String(feature.properties['Angle'])) + '</td></tr>' : '') +
                (feature.properties['FontLeading'] !== null ? '<tr><td><strong>Font Leading:</strong></td><td>' + autolinker.link(String(feature.properties['FontLeading'])) + '</td></tr>' : '') +
                (feature.properties['WordSpacing'] !== null ? '<tr><td><strong>Word Spacing:</strong></td><td>' + autolinker.link(String(feature.properties['WordSpacing'])) + '</td></tr>' : '') +
                (feature.properties['CharacterWidth'] !== null ? '<tr><td><strong>Character Width:</strong></td><td>' + autolinker.link(String(feature.properties['CharacterWidth'])) + '</td></tr>' : '') +
                (feature.properties['CharacterSpacing'] !== null ? '<tr><td><strong>Character Spacing:</strong></td><td>' + autolinker.link(String(feature.properties['CharacterSpacing'])) + '</td></tr>' : '') +
                (feature.properties['FlipAngle'] !== null ? '<tr><td><strong>Flip Angle:</strong></td><td>' + autolinker.link(String(feature.properties['FlipAngle'])) + '</td></tr>' : '') +
                (feature.properties['Override'] !== null ? '<tr><td><strong>Override:</strong></td><td>' + autolinker.link(String(feature.properties['Override'])) + '</td></tr>' : '') +
                (feature.properties['FontStyle'] !== null ? '<tr><td><strong>Font Style:</strong></td><td>' + autolinker.link(String(feature.properties['FontStyle'])) + '</td></tr>' : '') +
                (feature.properties['SHAPE_Length'] !== null ? '<tr><td><strong>Shape Length:</strong></td><td>' + autolinker.link(String(feature.properties['SHAPE_Length'])) + '</td></tr>' : '') +
                (feature.properties['SHAPE_Area'] !== null ? '<tr><td><strong>Shape Area:</strong></td><td>' + autolinker.link(String(feature.properties['SHAPE_Area'])) + '</td></tr>' : '') +
                '</table>';

            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function(e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }


        function style_europa_global_geologyGeoUnits_NP_Anno_3_0() {
            return {
                pane: 'pane_europa_global_geologyGeoUnits_NP_Anno_3',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(232,113,141,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_europa_global_geologyGeoUnits_NP_Anno_3');
        map.getPane('pane_europa_global_geologyGeoUnits_NP_Anno_3').style.zIndex = 403;
        map.getPane('pane_europa_global_geologyGeoUnits_NP_Anno_3').style['mix-blend-mode'] = 'normal';
        var layer_europa_global_geologyGeoUnits_NP_Anno_3 = new L.geoJson(json_europa_global_geologyGeoUnits_NP_Anno_3, {
            attribution: '',
            interactive: true,
            dataVar: 'json_europa_global_geologyGeoUnits_NP_Anno_3',
            layerName: 'layer_europa_global_geologyGeoUnits_NP_Anno_3',
            pane: 'pane_europa_global_geologyGeoUnits_NP_Anno_3',
            onEachFeature: pop_europa_global_geologyGeoUnits_NP_Anno_3,
            style: style_europa_global_geologyGeoUnits_NP_Anno_3_0,
        });
        bounds_group.addLayer(layer_europa_global_geologyGeoUnits_NP_Anno_3);
        map.addLayer(layer_europa_global_geologyGeoUnits_NP_Anno_3);
        function pop_europa_global_geologyGeoUnits_FINAL_v3_4(feature, layer) {
            var popupContent = '<table>' +
                (feature.properties['OBJECTID'] !== null ? '<tr><td><strong>Object ID:</strong></td><td>' + autolinker.link(String(feature.properties['OBJECTID'])) + '</td></tr>' : '') +
                (feature.properties['Geounits'] !== null ? '<tr><td><strong>Geological Unit:</strong></td><td>' + autolinker.link(String(feature.properties['Geounits'])) + '</td></tr>' : '') +
                (feature.properties['ORIG_FID'] !== null ? '<tr><td><strong>Original Feature ID:</strong></td><td>' + autolinker.link(String(feature.properties['ORIG_FID'])) + '</td></tr>' : '') +
                (feature.properties['Surface_Area'] !== null ? '<tr><td><strong>Surface Area (sq km):</strong></td><td>' + autolinker.link(String(feature.properties['Surface_Area'])) + '</td></tr>' : '') +
                (feature.properties['SArea'] !== null ? '<tr><td><strong>Projected Surface Area:</strong></td><td>' + autolinker.link(String(feature.properties['SArea'])) + '</td></tr>' : '') +
                (feature.properties['Shape_Length'] !== null ? '<tr><td><strong>Shape Length (km):</strong></td><td>' + autolinker.link(String(feature.properties['Shape_Length'])) + '</td></tr>' : '') +
                (feature.properties['Shape_Area'] !== null ? '<tr><td><strong>Shape Area (sq km):</strong></td><td>' + autolinker.link(String(feature.properties['Shape_Area'])) + '</td></tr>' : '') +
                '</table>';

            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function(e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }


        function style_europa_global_geologyGeoUnits_FINAL_v3_4_0() {
            return {
                pane: 'pane_europa_global_geologyGeoUnits_FINAL_v3_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(114,155,111,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_europa_global_geologyGeoUnits_FINAL_v3_4');
        map.getPane('pane_europa_global_geologyGeoUnits_FINAL_v3_4').style.zIndex = 404;
        map.getPane('pane_europa_global_geologyGeoUnits_FINAL_v3_4').style['mix-blend-mode'] = 'normal';
        var layer_europa_global_geologyGeoUnits_FINAL_v3_4 = new L.geoJson(json_europa_global_geologyGeoUnits_FINAL_v3_4, {
            attribution: '',
            interactive: true,
            dataVar: 'json_europa_global_geologyGeoUnits_FINAL_v3_4',
            layerName: 'layer_europa_global_geologyGeoUnits_FINAL_v3_4',
            pane: 'pane_europa_global_geologyGeoUnits_FINAL_v3_4',
            onEachFeature: pop_europa_global_geologyGeoUnits_FINAL_v3_4,
            style: style_europa_global_geologyGeoUnits_FINAL_v3_4_0,
        });
        bounds_group.addLayer(layer_europa_global_geologyGeoUnits_FINAL_v3_4);
        map.addLayer(layer_europa_global_geologyGeoUnits_FINAL_v3_4);
        function pop_europa_global_geologyGeoUnits_15kAnno_5(feature, layer) {
            var popupContent = '<table>' +
                (feature.properties['OBJECTID'] !== null ? '<tr><td><strong>Object ID:</strong></td><td>' + autolinker.link(String(feature.properties['OBJECTID'])) + '</td></tr>' : '') +
                (feature.properties['FeatureID'] !== null ? '<tr><td><strong>Feature ID:</strong></td><td>' + autolinker.link(String(feature.properties['FeatureID'])) + '</td></tr>' : '') +
                (feature.properties['ZOrder'] !== null ? '<tr><td><strong>Z Order:</strong></td><td>' + autolinker.link(String(feature.properties['ZOrder'])) + '</td></tr>' : '') +
                (feature.properties['AnnotationClassID'] !== null ? '<tr><td><strong>Annotation Class ID:</strong></td><td>' + autolinker.link(String(feature.properties['AnnotationClassID'])) + '</td></tr>' : '') +
                (feature.properties['Element'] !== null ? '<tr><td><strong>Element:</strong></td><td>' + autolinker.link(String(feature.properties['Element'])) + '</td></tr>' : '') +
                (feature.properties['SymbolID'] !== null ? '<tr><td><strong>Symbol ID:</strong></td><td>' + autolinker.link(String(feature.properties['SymbolID'])) + '</td></tr>' : '') +
                (feature.properties['Status'] !== null ? '<tr><td><strong>Status:</strong></td><td>' + autolinker.link(String(feature.properties['Status'])) + '</td></tr>' : '') +
                (feature.properties['TextString'] !== null ? '<tr><td><strong>Text String:</strong></td><td>' + autolinker.link(String(feature.properties['TextString'])) + '</td></tr>' : '') +
                (feature.properties['FontName'] !== null ? '<tr><td><strong>Font Name:</strong></td><td>' + autolinker.link(String(feature.properties['FontName'])) + '</td></tr>' : '') +
                (feature.properties['FontSize'] !== null ? '<tr><td><strong>Font Size:</strong></td><td>' + autolinker.link(String(feature.properties['FontSize'])) + '</td></tr>' : '') +
                (feature.properties['Underline'] !== null ? '<tr><td><strong>Underline:</strong></td><td>' + autolinker.link(String(feature.properties['Underline'])) + '</td></tr>' : '') +
                (feature.properties['VerticalAlignment'] !== null ? '<tr><td><strong>Vertical Alignment:</strong></td><td>' + autolinker.link(String(feature.properties['VerticalAlignment'])) + '</td></tr>' : '') +
                (feature.properties['HorizontalAlignment'] !== null ? '<tr><td><strong>Horizontal Alignment:</strong></td><td>' + autolinker.link(String(feature.properties['HorizontalAlignment'])) + '</td></tr>' : '') +
                (feature.properties['XOffset'] !== null ? '<tr><td><strong>X Offset:</strong></td><td>' + autolinker.link(String(feature.properties['XOffset'])) + '</td></tr>' : '') +
                (feature.properties['YOffset'] !== null ? '<tr><td><strong>Y Offset:</strong></td><td>' + autolinker.link(String(feature.properties['YOffset'])) + '</td></tr>' : '') +
                (feature.properties['Angle'] !== null ? '<tr><td><strong>Angle:</strong></td><td>' + autolinker.link(String(feature.properties['Angle'])) + '</td></tr>' : '') +
                (feature.properties['FontLeading'] !== null ? '<tr><td><strong>Font Leading:</strong></td><td>' + autolinker.link(String(feature.properties['FontLeading'])) + '</td></tr>' : '') +
                (feature.properties['WordSpacing'] !== null ? '<tr><td><strong>Word Spacing:</strong></td><td>' + autolinker.link(String(feature.properties['WordSpacing'])) + '</td></tr>' : '') +
                (feature.properties['CharacterWidth'] !== null ? '<tr><td><strong>Character Width:</strong></td><td>' + autolinker.link(String(feature.properties['CharacterWidth'])) + '</td></tr>' : '') +
                (feature.properties['CharacterSpacing'] !== null ? '<tr><td><strong>Character Spacing:</strong></td><td>' + autolinker.link(String(feature.properties['CharacterSpacing'])) + '</td></tr>' : '') +
                (feature.properties['FlipAngle'] !== null ? '<tr><td><strong>Flip Angle:</strong></td><td>' + autolinker.link(String(feature.properties['FlipAngle'])) + '</td></tr>' : '') +
                (feature.properties['Override'] !== null ? '<tr><td><strong>Override:</strong></td><td>' + autolinker.link(String(feature.properties['Override'])) + '</td></tr>' : '') +
                (feature.properties['FontStyle'] !== null ? '<tr><td><strong>Font Style:</strong></td><td>' + autolinker.link(String(feature.properties['FontStyle'])) + '</td></tr>' : '') +
                (feature.properties['SHAPE_Length'] !== null ? '<tr><td><strong>Shape Length:</strong></td><td>' + autolinker.link(String(feature.properties['SHAPE_Length'])) + '</td></tr>' : '') +
                (feature.properties['SHAPE_Area'] !== null ? '<tr><td><strong>Shape Area:</strong></td><td>' + autolinker.link(String(feature.properties['SHAPE_Area'])) + '</td></tr>' : '') +
                '</table>';

            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function(e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }


        function style_europa_global_geologyGeoUnits_15kAnno_5_0() {
            return {
                pane: 'pane_europa_global_geologyGeoUnits_15kAnno_5',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(133,182,111,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_europa_global_geologyGeoUnits_15kAnno_5');
        map.getPane('pane_europa_global_geologyGeoUnits_15kAnno_5').style.zIndex = 405;
        map.getPane('pane_europa_global_geologyGeoUnits_15kAnno_5').style['mix-blend-mode'] = 'normal';
        var layer_europa_global_geologyGeoUnits_15kAnno_5 = new L.geoJson(json_europa_global_geologyGeoUnits_15kAnno_5, {
            attribution: '',
            interactive: true,
            dataVar: 'json_europa_global_geologyGeoUnits_15kAnno_5',
            layerName: 'layer_europa_global_geologyGeoUnits_15kAnno_5',
            pane: 'pane_europa_global_geologyGeoUnits_15kAnno_5',
            onEachFeature: pop_europa_global_geologyGeoUnits_15kAnno_5,
            style: style_europa_global_geologyGeoUnits_15kAnno_5_0,
        });
        bounds_group.addLayer(layer_europa_global_geologyGeoUnits_15kAnno_5);
        map.addLayer(layer_europa_global_geologyGeoUnits_15kAnno_5);
        function pop_europa_global_geologyGeoContacts_FINAL_6(feature, layer) {
            var popupContent = '<table>' +
                (feature.properties['OBJECTID'] !== null ? '<tr><td><strong>Object ID:</strong></td><td>' + autolinker.link(String(feature.properties['OBJECTID'])) + '</td></tr>' : '') +
                (feature.properties['Type'] !== null ? '<tr><td><strong>Type:</strong></td><td>' + autolinker.link(String(feature.properties['Type'])) + '</td></tr>' : '') +
                (feature.properties['InLine_FID'] !== null ? '<tr><td><strong>InLine FID:</strong></td><td>' + autolinker.link(String(feature.properties['InLine_FID'])) + '</td></tr>' : '') +
                (feature.properties['SmoLnFlag'] !== null ? '<tr><td><strong>Smooth Line Flag:</strong></td><td>' + autolinker.link(String(feature.properties['SmoLnFlag'])) + '</td></tr>' : '') +
                (feature.properties['Shape_Length'] !== null ? '<tr><td><strong>Shape Length:</strong></td><td>' + autolinker.link(String(feature.properties['Shape_Length'])) + '</td></tr>' : '') +
                '</table>';

            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function(e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_europa_global_geologyGeoContacts_FINAL_6_0() {
            return {
                pane: 'pane_europa_global_geologyGeoContacts_FINAL_6',
                opacity: 1,
                color: 'rgba(190,178,151,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 1.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_europa_global_geologyGeoContacts_FINAL_6');
        map.getPane('pane_europa_global_geologyGeoContacts_FINAL_6').style.zIndex = 406;
        map.getPane('pane_europa_global_geologyGeoContacts_FINAL_6').style['mix-blend-mode'] = 'normal';
        var layer_europa_global_geologyGeoContacts_FINAL_6 = new L.geoJson(json_europa_global_geologyGeoContacts_FINAL_6, {
            attribution: '',
            interactive: true,
            dataVar: 'json_europa_global_geologyGeoContacts_FINAL_6',
            layerName: 'layer_europa_global_geologyGeoContacts_FINAL_6',
            pane: 'pane_europa_global_geologyGeoContacts_FINAL_6',
            onEachFeature: pop_europa_global_geologyGeoContacts_FINAL_6,
            style: style_europa_global_geologyGeoContacts_FINAL_6_0,
        });
        bounds_group.addLayer(layer_europa_global_geologyGeoContacts_FINAL_6);
        map.addLayer(layer_europa_global_geologyGeoContacts_FINAL_6);
       function pop_europa_global_geologyEuropa_Annotation_7(feature, layer) {
            var popupContent = '<table>' +
                (feature.properties['OBJECTID'] !== null ? '<tr><td><strong>Object ID:</strong></td><td>' + autolinker.link(String(feature.properties['OBJECTID'])) + '</td></tr>' : '') +
                (feature.properties['FeatureID'] !== null ? '<tr><td><strong>Feature ID:</strong></td><td>' + autolinker.link(String(feature.properties['FeatureID'])) + '</td></tr>' : '') +
                (feature.properties['ZOrder'] !== null ? '<tr><td><strong>Z Order:</strong></td><td>' + autolinker.link(String(feature.properties['ZOrder'])) + '</td></tr>' : '') +
                (feature.properties['AnnotationClassID'] !== null ? '<tr><td><strong>Annotation Class ID:</strong></td><td>' + autolinker.link(String(feature.properties['AnnotationClassID'])) + '</td></tr>' : '') +
                (feature.properties['Element'] !== null ? '<tr><td><strong>Element:</strong></td><td>' + autolinker.link(String(feature.properties['Element'])) + '</td></tr>' : '') +
                (feature.properties['SymbolID'] !== null ? '<tr><td><strong>Symbol ID:</strong></td><td>' + autolinker.link(String(feature.properties['SymbolID'])) + '</td></tr>' : '') +
                (feature.properties['Status'] !== null ? '<tr><td><strong>Status:</strong></td><td>' + autolinker.link(String(feature.properties['Status'])) + '</td></tr>' : '') +
                (feature.properties['TextString'] !== null ? '<tr><td><strong>Text String:</strong></td><td>' + autolinker.link(String(feature.properties['TextString'])) + '</td></tr>' : '') +
                (feature.properties['FontName'] !== null ? '<tr><td><strong>Font Name:</strong></td><td>' + autolinker.link(String(feature.properties['FontName'])) + '</td></tr>' : '') +
                (feature.properties['FontSize'] !== null ? '<tr><td><strong>Font Size:</strong></td><td>' + autolinker.link(String(feature.properties['FontSize'])) + '</td></tr>' : '') +
                (feature.properties['Underline'] !== null ? '<tr><td><strong>Underline:</strong></td><td>' + autolinker.link(String(feature.properties['Underline'])) + '</td></tr>' : '') +
                (feature.properties['VerticalAlignment'] !== null ? '<tr><td><strong>Vertical Alignment:</strong></td><td>' + autolinker.link(String(feature.properties['VerticalAlignment'])) + '</td></tr>' : '') +
                (feature.properties['HorizontalAlignment'] !== null ? '<tr><td><strong>Horizontal Alignment:</strong></td><td>' + autolinker.link(String(feature.properties['HorizontalAlignment'])) + '</td></tr>' : '') +
                (feature.properties['XOffset'] !== null ? '<tr><td><strong>X Offset:</strong></td><td>' + autolinker.link(String(feature.properties['XOffset'])) + '</td></tr>' : '') +
                (feature.properties['YOffset'] !== null ? '<tr><td><strong>Y Offset:</strong></td><td>' + autolinker.link(String(feature.properties['YOffset'])) + '</td></tr>' : '') +
                (feature.properties['Angle'] !== null ? '<tr><td><strong>Angle:</strong></td><td>' + autolinker.link(String(feature.properties['Angle'])) + '</td></tr>' : '') +
                (feature.properties['FontLeading'] !== null ? '<tr><td><strong>Font Leading:</strong></td><td>' + autolinker.link(String(feature.properties['FontLeading'])) + '</td></tr>' : '') +
                (feature.properties['WordSpacing'] !== null ? '<tr><td><strong>Word Spacing:</strong></td><td>' + autolinker.link(String(feature.properties['WordSpacing'])) + '</td></tr>' : '') +
                (feature.properties['CharacterWidth'] !== null ? '<tr><td><strong>Character Width:</strong></td><td>' + autolinker.link(String(feature.properties['CharacterWidth'])) + '</td></tr>' : '') +
                (feature.properties['CharacterSpacing'] !== null ? '<tr><td><strong>Character Spacing:</strong></td><td>' + autolinker.link(String(feature.properties['CharacterSpacing'])) + '</td></tr>' : '') +
                (feature.properties['FlipAngle'] !== null ? '<tr><td><strong>Flip Angle:</strong></td><td>' + autolinker.link(String(feature.properties['FlipAngle'])) + '</td></tr>' : '') +
                (feature.properties['Override'] !== null ? '<tr><td><strong>Override:</strong></td><td>' + autolinker.link(String(feature.properties['Override'])) + '</td></tr>' : '') +
                (feature.properties['FontStyle'] !== null ? '<tr><td><strong>Font Style:</strong></td><td>' + autolinker.link(String(feature.properties['FontStyle'])) + '</td></tr>' : '') +
                (feature.properties['SHAPE_Length'] !== null ? '<tr><td><strong>Shape Length:</strong></td><td>' + autolinker.link(String(feature.properties['SHAPE_Length'])) + '</td></tr>' : '') +
                (feature.properties['SHAPE_Area'] !== null ? '<tr><td><strong>Shape Area:</strong></td><td>' + autolinker.link(String(feature.properties['SHAPE_Area'])) + '</td></tr>' : '') +
                '</table>';

            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function(e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_europa_global_geologyEuropa_Annotation_7_0() {
            return {
                pane: 'pane_europa_global_geologyEuropa_Annotation_7',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(225,89,137,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_europa_global_geologyEuropa_Annotation_7');
        map.getPane('pane_europa_global_geologyEuropa_Annotation_7').style.zIndex = 407;
        map.getPane('pane_europa_global_geologyEuropa_Annotation_7').style['mix-blend-mode'] = 'normal';
        var layer_europa_global_geologyEuropa_Annotation_7 = new L.geoJson(json_europa_global_geologyEuropa_Annotation_7, {
            attribution: '',
            interactive: true,
            dataVar: 'json_europa_global_geologyEuropa_Annotation_7',
            layerName: 'layer_europa_global_geologyEuropa_Annotation_7',
            pane: 'pane_europa_global_geologyEuropa_Annotation_7',
            onEachFeature: pop_europa_global_geologyEuropa_Annotation_7,
            style: style_europa_global_geologyEuropa_Annotation_7_0,
        });
        bounds_group.addLayer(layer_europa_global_geologyEuropa_Annotation_7);
        map.addLayer(layer_europa_global_geologyEuropa_Annotation_7);
        setBounds();
        </script>
    </body>
</html>
